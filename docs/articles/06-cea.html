<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cost-effectiveness Analysis • rcea</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Cost-effectiveness Analysis">
<meta property="og:description" content="rcea">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-131661920-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131661920-3');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rcea</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01-markov-cohort.html">Simple Markov Cohort Model</a>
    </li>
    <li>
      <a href="../articles/02-markov-cohort-psa.html">Incorporating Probabilistic Sensitivity Analysis</a>
    </li>
    <li>
      <a href="../articles/03-markov-cohort-hesim.html">Markov Cohort Model with hesim</a>
    </li>
    <li>
      <a href="../articles/04-mstate.html">Semi-Markov Multi-state Model</a>
    </li>
    <li>
      <a href="../articles/05-psm.html">Partitioned Survival Model</a>
    </li>
    <li>
      <a href="../articles/06-cea.html">Cost-effectiveness Analysis</a>
    </li>
    <li class="divider">
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Slides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../slides-3hr.pdf">3 hour course</a>
    </li>
    <li>
      <a href="../slides-4hr.pdf">4 hour course</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hesim-dev/rcea/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="06-cea_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Cost-effectiveness Analysis</h1>
            
            <h4 class="date">2021-08-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hesim-dev/rcea/blob/master/vignettes/06-cea.Rmd"><code>vignettes/06-cea.Rmd</code></a></small>
      <div class="hidden name"><code>06-cea.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>The prior tutorials have focused on constructing economic models to simulate disease progression, costs, and quality-adjusted life-years (QALYs). While incremental cost-effectiveness ratios (ICERs) have been computed and probabilistic sensitivity analysis (PSA) has been employed, we have not yet formalized cost-effectiveness analysis (CEA) or represented decision uncertainty.</p>
<p>In this analysis we will perform a CEA given the output of model from the <a href="04-mstate.html">“Semi-Markov Multi-state Model”</a> tutorial. We will use the CEA functions from <code>hesim</code> to summarize decision uncertainty and <code>ggplot2</code> for visualization. The CEA will be peformed for a single target population, but you can review the <code>hesim</code> tutorial on <a href="https://hesim-dev.github.io/hesim/articles/cea.html">CEA</a> and the references therein for an example of CEA in the context of multiple subgroups.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://hesim-dev.github.io/hesim/">"hesim"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://magrittr.tidyverse.org">"magrittr"</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># Set ggplot2 theme</span></code></pre></div>
</div>
<div id="theory" class="section level1">
<h1 class="hasAnchor">
<a href="#theory" class="anchor"></a>Theory</h1>
<p>CEA is based on estimating the net monetary benefit (NMB). For a given parameter set <span class="math inline">\(\theta\)</span>, the NMB with treatment <span class="math inline">\(j\)</span> is computed as the difference between the monetized health gains from an intervention less costs, or,</p>
<p><span class="math display">\[
\begin{aligned}
NMB(j,\theta) = e_{j}(\theta)\cdot k- c_{j}(\theta),
\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(e_{j}\)</span> and <span class="math inline">\(c_{j}\)</span> are measures of health outcomes (e.g. QALYs) and costs using treatment <span class="math inline">\(j\)</span> respectively, and <span class="math inline">\(k\)</span> is a decision makers willingness to pay (WTP) per unit of health outcomes. The optimal treatment is the one that maximizes the expected NMB,</p>
<p><span class="math display">\[
\begin{aligned}
j^{*} = \text{argmax}_j E_{\theta} \left[NMB(j,\theta)\right].
\end{aligned}
\]</span></p>
<p>For a pairwise comparison, treatment <span class="math inline">\(1\)</span> is preferred to treatment <span class="math inline">\(0\)</span> if the expected incremental net monetary benefit (INMB) is positive; that is, if <span class="math inline">\(E_\theta \left[INMB\right] &gt; 0\)</span> where the INMB is given by</p>
<p><span class="math display">\[
\begin{aligned}
INMB(\theta) = NMB(j = 1, \theta) - NMB(j = 0, \theta).
\end{aligned}
\]</span></p>
<p>Treatments can be compared in an equivalent manner using the incremental cost-effectiveness ratio (ICER). The most common case occurs when a new treatment is more effective and more costly so that treatment <span class="math inline">\(1\)</span> is preferred to treatment <span class="math inline">\(0\)</span> if the ICER is less than the WTP threshold <span class="math inline">\(k\)</span>,</p>
<p><span class="math display">\[
\begin{aligned}
k &gt; \frac{E_\theta[c_{1} - c_{0}]}{E_\theta[e_{1} - e_{0}]} = ICER.
\end{aligned}
\]</span> There are three additional cases. Treatment <span class="math inline">\(1\)</span> is considered to <em>dominate</em> treatment <em>0</em> if it is more effective and less costly. Treatment <span class="math inline">\(1\)</span> is <em>dominated</em> by treatment <span class="math inline">\(0\)</span> if it is less effective and more costly. Finally, treatment <span class="math inline">\(1\)</span> is preferred to treatment <span class="math inline">\(0\)</span> if it is less effective and less costly when <span class="math inline">\(k &lt; ICER\)</span>.</p>
<p>In practice, the distribution of <span class="math inline">\(\theta\)</span> is simulated from the output of the PSA. Specifically, For each treatment strategy, a PSA produces <span class="math inline">\(m\)</span> random draws from the distribution of health outcomes and costs,</p>
<p><span class="math display">\[
\begin{aligned}
e_{j} &amp;= [e_{j}^1, e_{j}^2, \dots, e_{j}^m] \\
c_{j} &amp;= [c_{j}^1, c_{j}^2, \dots, c_{j}^m].
\end{aligned}
\]</span></p>
</div>
<div id="application" class="section level1">
<h1 class="hasAnchor">
<a href="#application" class="anchor"></a>Application</h1>
<p>CEA can be performed using the <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">hesim::cea()</a></code> and <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">hesim::cea_pw()</a></code> functions. <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> summarizes results by taking into account each treatment strategy in the analysis, while <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> summarizes “pairwise” results in which each treatment is compared to a comparator. Both functions return a number of outputs for summarizing a PSA.</p>
<p>The functions are generic functions, meaning that their implementation depends on the class of their input. The default method works on a generic data frame object like we simulated in the <a href="02-markov-cohort-psa.html">non-<code>hesim</code> Markov cohort modeling tutorial</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">markov_ce</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"markov-cohort-ce_sim.rds"</span><span class="op">)</span>
<span class="va">markov_ce</span></code></pre></div>
<pre><code>##       sample strategy   dqalys    dcosts
##    1:      1      New 22.46453 424193.11
##    2:      1      SOC 19.79403 171692.25
##    3:      2      New 24.63744 411513.48
##    4:      2      SOC 21.75544 139341.69
##    5:      3      New 21.94022 582726.30
##   ---                                   
## 1996:    998      SOC 20.36152  74070.17
## 1997:    999      New 24.32977 547848.32
## 1998:    999      SOC 22.45038 296303.99
## 1999:   1000      New 22.92601 469550.31
## 2000:   1000      SOC 20.85917 212142.96</code></pre>
<p>However, when a simulation has been conducted with <code>hesim</code>, it is typically more convenient to use the <code><a href="https://hesim-dev.github.io/hesim/reference/ce.html">hesim::ce</a></code> object generated from the economic model (as in the <a href="03-markov-cohort-hesim.html"><code>hesim</code> Markov cohort modeling tutorial</a>).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">markov_hesim_ce</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"markov-cohort-hesim-ce_sim.rds"</span><span class="op">)</span>
<span class="va">hesim_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"markov-cohort-hesim_data.rds"</span><span class="op">)</span>
<span class="va">markov_hesim_ce</span></code></pre></div>
<pre><code>## $costs
##        category   dr sample strategy_id     costs grp_id
##    1: treatment 0.03      1           1  53080.88      1
##    2: treatment 0.03      1           2 332405.01      1
##    3: treatment 0.03      2           1  51515.33      1
##    4: treatment 0.03      2           2 330330.38      1
##    5: treatment 0.03      3           1  49739.19      1
##   ---                                                   
## 5996:     total 0.03    998           2 636329.42      1
## 5997:     total 0.03    999           1  72277.30      1
## 5998:     total 0.03    999           2 348862.87      1
## 5999:     total 0.03   1000           1  98696.43      1
## 6000:     total 0.03   1000           2 359055.98      1
## 
## $qalys
##         dr sample strategy_id    qalys grp_id
##    1: 0.03      1           1 22.51374      1
##    2: 0.03      1           2 24.33262      1
##    3: 0.03      2           1 21.82532      1
##    4: 0.03      2           2 24.30805      1
##    5: 0.03      3           1 20.86320      1
##   ---                                        
## 1996: 0.03    998           2 23.22127      1
## 1997: 0.03    999           1 20.53312      1
## 1998: 0.03    999           2 23.04054      1
## 1999: 0.03   1000           1 19.77835      1
## 2000: 0.03   1000           2 22.06166      1
## 
## attr(,"class")
## [1] "ce"</code></pre>
<p>We focus our illustration on the case where the input is a <code><a href="https://hesim-dev.github.io/hesim/reference/ce.html">hesim::ce</a></code> object.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">250000</span>, <span class="fl">500</span><span class="op">)</span> <span class="co"># Willingness to pay per QALY</span>
<span class="va">cea_pw_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw</a></span><span class="op">(</span><span class="va">markov_hesim_ce</span>, 
                     comparator <span class="op">=</span> <span class="fl">1</span>, <span class="co"># Comparator is SOC (ID = 1)</span>
                     dr_qalys <span class="op">=</span> <span class="fl">0.03</span>, dr_costs <span class="op">=</span> <span class="fl">0.03</span>,
                     <span class="va">wtp</span><span class="op">)</span>
<span class="va">cea_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea</a></span><span class="op">(</span><span class="va">markov_hesim_ce</span>, 
               dr_qalys <span class="op">=</span> <span class="fl">0.03</span>, dr_costs <span class="op">=</span> <span class="fl">0.03</span>,
               k <span class="op">=</span> <span class="va">wtp</span><span class="op">)</span></code></pre></div>
<p>For completeness, we note that results would be nearly identical using the default method.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cea_pw_out2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw</a></span><span class="op">(</span><span class="va">markov_ce</span>, comparator <span class="op">=</span> <span class="st">"SOC"</span>,
                      k <span class="op">=</span> <span class="va">wtp</span>,
                      sample <span class="op">=</span> <span class="st">"sample"</span>, strategy <span class="op">=</span> <span class="st">"strategy"</span>,
                      e <span class="op">=</span> <span class="st">"dqalys"</span>, c <span class="op">=</span> <span class="st">"dcosts"</span><span class="op">)</span>
<span class="va">cea_pw_out</span><span class="op">$</span><span class="va">summary</span></code></pre></div>
<pre><code>##    strategy_id grp_id  ie_mean ie_lower ie_upper  ic_mean ic_lower ic_upper
## 1:           2      1 2.046011 1.045688 3.073314 257392.6 200710.6 288832.9
##        icer
## 1: 125802.2</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cea_pw_out2</span><span class="op">$</span><span class="va">summary</span></code></pre></div>
<pre><code>##    strategy grp  ie_mean ie_lower ie_upper  ic_mean ic_lower ic_upper     icer
## 1:      New   1 2.092274 1.038125 3.141643 261594.3 212237.7 291653.5 125028.7</code></pre>
<div id="incremental-cost-effectiveness-ratio" class="section level2">
<h2 class="hasAnchor">
<a href="#incremental-cost-effectiveness-ratio" class="anchor"></a>Incremental cost-effectiveness ratio</h2>
<p>The output of <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> can be used to create an ICER table with <code><a href="https://hesim-dev.github.io/hesim/reference/icer.html">icer()</a></code>, which can, in turn, be formatted for pretty printing with <code><a href="https://rdrr.io/r/base/format.html">format()</a></code>. A WTP threshold is needed to compute the INMB and is set with the <code>wtp</code> argument. Estimates of incremental QALYs and incremental costs are computed by averaging over PSA samples. Confidence intervals (CIs) are computed using the quantiles of the PSA and 95% CIs are displayed by default.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">labs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/get_labels.html">get_labels</a></span><span class="op">(</span><span class="va">hesim_dat</span><span class="op">)</span>
<span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/icer.html">icer</a></span><span class="op">(</span><span class="va">cea_pw_out</span>, wtp <span class="op">=</span> <span class="fl">50000</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>##              Outcome                          New
## 1: Incremental QALYs            2.05 (1.05, 3.07)
## 2: Incremental costs   257,393 (200,711, 288,833)
## 3:   Incremental NMB -155,092 (-210,411, -75,154)
## 4:              ICER                      125,802</code></pre>
<p>Note that <code><a href="https://hesim-dev.github.io/hesim/reference/get_labels.html">get_labels()</a></code> was used to create labels for the identification variables in the <code><a href="https://hesim-dev.github.io/hesim/reference/hesim_data.html">hesim_data()</a></code> object. This is useful because it can be passed to summary functions (e.g., <code><a href="https://hesim-dev.github.io/hesim/reference/icer.html">icer()</a></code>) as well as plotting functions (as will be shown below).</p>
</div>
<div id="representing-decision-uncertainty" class="section level2">
<h2 class="hasAnchor">
<a href="#representing-decision-uncertainty" class="anchor"></a>Representing decision uncertainty</h2>
<p>There are a number of measures that are typically used to represent decision uncertainty including cost-effectiveness planes, cost-effectiveness acceptability curves (CEACs), cost-effectiveness acceptability frontiers (CEAFs), and the expected value of perfect information (EVPI). <code>ggplot2</code> graphics can be quickly generated with <code>hesim</code> using the functions <code><a href="https://hesim-dev.github.io/hesim/reference/plot_ceplane.html">plot_ceplane()</a></code>, <code><a href="https://hesim-dev.github.io/hesim/reference/plot_ceac.html">plot_ceac()</a></code>, <code><a href="https://hesim-dev.github.io/hesim/reference/plot_ceaf.html">plot_ceaf()</a></code>, and <code><a href="https://hesim-dev.github.io/hesim/reference/plot_evpi.html">plot_evpi()</a></code>. Users who desire more control over plotting may also create custom plots using the output of <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> and <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> as demonstrated <a href="#custom-plotting">below</a>.</p>
<div id="cost-effectiveness-plane" class="section level3">
<h3 class="hasAnchor">
<a href="#cost-effectiveness-plane" class="anchor"></a>Cost-effectiveness plane</h3>
<p>The cost-effectiveness plane plots the incremental effectiveness of a treatment strategy (relative to a comparator) against the incremental cost of the treatment strategy. The plot is useful because it demonstrates both the uncertainty and the magnitude of the estimates. Each point on the plot is from a particular random draw from the PSA.</p>
<p>Data for plotting a cost-effectiveness plane comes from the <code>delta</code> output generated from the <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> function, which, for each sampled parameter set and treatment strategy, estimates differences in costs and QALYs relative to the comparator.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cea_pw_out</span><span class="op">$</span><span class="va">delta</span><span class="op">)</span></code></pre></div>
<pre><code>##    sample strategy_id grp_id       ie       ic
## 1:      1           2      1 1.818878 250483.6
## 2:      2           2      1 2.482730 244696.0
## 3:      3           2      1 1.820730 259581.0
## 4:      4           2      1 1.094451 281016.0
## 5:      5           2      1 2.188967 258238.0
## 6:      6           2      1 2.661375 247998.2</code></pre>
<p>The dotted line in the plot is the WTP line, with slope equal to the desire value of <span class="math inline">\(k\)</span> (in this case $100,000). For a chosen <span class="math inline">\(k\)</span>, points below the line are cost-effective while those above it are not.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/plot_ceplane.html">plot_ceplane</a></span><span class="op">(</span><span class="va">cea_pw_out</span>, k <span class="op">=</span> <span class="fl">100000</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/ceplane-plot-1.png" width="700"></p>
</div>
<div id="cost-effectiveness-acceptability-curves-ceac" class="section level3">
<h3 class="hasAnchor">
<a href="#cost-effectiveness-acceptability-curves-ceac" class="anchor"></a>Cost-effectiveness acceptability curves (CEAC)</h3>
<div id="simultanous-comparison" class="section level4">
<h4 class="hasAnchor">
<a href="#simultanous-comparison" class="anchor"></a>Simultanous comparison</h4>
<p>A useful summary measure for quantifying uncertainty is the probability that each treatment strategy is the most cost effective, which is estimated from simulation output as the proportion of simulation draws that each strategy has the highest NMB.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/plot_ceac.html">plot_ceac</a></span><span class="op">(</span><span class="va">cea_out</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/ceac-simultaneous-plot-1.png" width="700"></p>
<p>The probability that the new treatment is the most cost-effective is increasing in WTP.</p>
</div>
<div id="pairwise-comparison" class="section level4">
<h4 class="hasAnchor">
<a href="#pairwise-comparison" class="anchor"></a>Pairwise comparison</h4>
<p>The difference between this plot and the one above is that it compares each strategy to a single comparator rather than considering all strategies simultaneously. Since there are only two treatment strategies the distinction is not meaningful, but it can be important when there are 3 or more treatment strategies.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/plot_ceac.html">plot_ceac</a></span><span class="op">(</span><span class="va">cea_pw_out</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/ceac-pairwise-plot-1.png" width="700"></p>
</div>
</div>
<div id="cost-effectiveness-acceptability-frontier-ceaf" class="section level3">
<h3 class="hasAnchor">
<a href="#cost-effectiveness-acceptability-frontier-ceaf" class="anchor"></a>Cost-effectiveness acceptability frontier (CEAF)</h3>
<p>One drawback of the CEAC is that the probability of being cost-effective cannot be used to determine the optimal treatment option. Instead, if a decision-makers objective is to maximize health gain, then decisions should be based on the expected NMB. The cost-effectiveness acceptability frontier (CEAF), which plots the probability that the optimal treatment strategy (i.e., the strategy with the highest expected NMB) is cost-effective, is appropriate in this context.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/plot_ceaf.html">plot_ceaf</a></span><span class="op">(</span><span class="va">cea_out</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/ceaf-plot-1.png" width="700"></p>
</div>
<div id="value-of-perfect-information" class="section level3">
<h3 class="hasAnchor">
<a href="#value-of-perfect-information" class="anchor"></a>Value of perfect information</h3>
<p>A limitation of the prior measures are that they ignore the magnitude of cost or QALY gains. A measure which combines the probability of being most effective with the magnitude of the expected NMB is the EVPI, which, intuitively, provides an estimate of the amount that a decision maker would be willing to pay to collect additional data and completely eliminate uncertainty. Mathematically, the EVPI is defined as the difference between the maximum expected NMB given perfect information and the maximum expected NMB given current information. In other words, we calculate the NMB for the optimal treatment strategy for each random draw of the parameters and compare that to the NMB for the treatment strategy that is optimal when averaging across all parameters,</p>
<p><span class="math display">\[
\begin{aligned}
EVPI &amp;= E_\theta \left[max_j NMB(j, \theta)\right] - max_j E_\theta \left [ NMB(j, \theta)\right]. \\
\end{aligned}
\]</span></p>
<p>The <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> function performs the EVPI calculation across all simulation draws from the PSA and for a number of WTP values <span class="math inline">\(k\)</span>. A plot by group of the the EVPI for different values of <span class="math inline">\(k\)</span> is shown below. The kink in the plot represents the value of <span class="math inline">\(k\)</span> where the optimal strategy changes.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://hesim-dev.github.io/hesim/reference/plot_evpi.html">plot_evpi</a></span><span class="op">(</span><span class="va">cea_out</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/evpi-plot-1.png" width="700"></p>
</div>
</div>
</div>
<div id="custom-plotting" class="section level1">
<h1 class="hasAnchor">
<a href="#custom-plotting" class="anchor"></a>Custom plotting with <code>ggplot2</code>
</h1>
<p>As noted above, it is often desirable to have full control over plotting. For this reason, the output of <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> and <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> contain all data required to represent decision uncertainty: the <code>delta</code> element returned by <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> can be used to create a cost-effectiveness plane, the <code>mce</code> element returned by <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> can be used to create a CEAC for simultaneous comparisons and a CEAF, the <code>ceac</code> element returned by <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea_pw()</a></code> can be used to create a CEAC for pairwise comparisons, and the <code>evpi</code> element returned by <code><a href="https://hesim-dev.github.io/hesim/reference/cea.html">cea()</a></code> can be used to plot the EVPI.</p>
<p>We demonstrate each case below, while leveraging a couple of helper functions.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">strategy_factor</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SOC"</span>, <span class="st">"New"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">format_dollar</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"$"</span>, <span class="fu"><a href="https://rdrr.io/r/base/formatc.html">formatC</a></span><span class="op">(</span><span class="va">x</span>, format <span class="op">=</span> <span class="st">"d"</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<div id="cost-effectiveness-plane-1" class="section level2">
<h2 class="hasAnchor">
<a href="#cost-effectiveness-plane-1" class="anchor"></a>Cost-effectiveness plane</h2>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ylim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">cea_pw_out</span><span class="op">$</span><span class="va">delta</span><span class="op">[</span>, <span class="va">ic</span><span class="op">]</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1.1</span>
<span class="va">xlim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">cea_pw_out</span><span class="op">$</span><span class="va">delta</span><span class="op">[</span>, <span class="va">ie</span><span class="op">]</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1.1</span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">cea_pw_out</span><span class="op">$</span><span class="va">delta</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ie</span>, y <span class="op">=</span> <span class="va">ic</span>, col <span class="op">=</span> <span class="fu">strategy_factor</span><span class="op">(</span><span class="va">strategy_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>  <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Incremental QALYs"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Incremental cost"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">ylim</span>, <span class="va">ylim</span><span class="op">)</span>,
                     labels <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">xlim</span>, <span class="va">xlim</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_colour_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Strategy"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">100000</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/custom-ceplane-plot-1.png" width="700"></p>
</div>
<div id="cost-effectiveness-acceptability-curves-ceac-1" class="section level2">
<h2 class="hasAnchor">
<a href="#cost-effectiveness-acceptability-curves-ceac-1" class="anchor"></a>Cost-effectiveness acceptability curves (CEAC)</h2>
<div id="simultanous-comparison-1" class="section level3">
<h3 class="hasAnchor">
<a href="#simultanous-comparison-1" class="anchor"></a>Simultanous comparison</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">cea_out</span><span class="op">$</span><span class="va">mce</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">k</span>, y <span class="op">=</span> <span class="va">prob</span>, col <span class="op">=</span> <span class="fu">strategy_factor</span><span class="op">(</span><span class="va">strategy_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Willingness to pay"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Probability most cost-effective"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">wtp</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, 
                     label <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_colour_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Strategy"</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/custom-ceac-simultaneous-plot-1.png" width="700"></p>
</div>
<div id="pairwise-comparison-1" class="section level3">
<h3 class="hasAnchor">
<a href="#pairwise-comparison-1" class="anchor"></a>Pairwise comparison</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">cea_pw_out</span><span class="op">$</span><span class="va">ceac</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">k</span>, y <span class="op">=</span> <span class="va">prob</span>, col <span class="op">=</span> <span class="fu">strategy_factor</span><span class="op">(</span><span class="va">strategy_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span>  <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Willingness to pay"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Probability most cost-effective"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">wtp</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, 
                     label <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_colour_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Strategy"</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/custom-ceac-pairwise-plot-1.png" width="700"></p>
</div>
</div>
<div id="cost-effectiveness-acceptability-frontier-ceaf-1" class="section level2">
<h2 class="hasAnchor">
<a href="#cost-effectiveness-acceptability-frontier-ceaf-1" class="anchor"></a>Cost-effectiveness acceptability frontier (CEAF)</h2>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">cea_out</span><span class="op">$</span><span class="va">mce</span><span class="op">[</span><span class="va">best</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">k</span>, y <span class="op">=</span> <span class="va">prob</span>, col <span class="op">=</span> <span class="fu">strategy_factor</span><span class="op">(</span><span class="va">strategy_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Willingness to pay"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Probability most cost-effective"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">wtp</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, 
                     label <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_colour_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Strategy"</span><span class="op">)</span></code></pre></div>
<p><img src="06-cea_files/figure-html/custom-ceaf-plot-1.png" width="700"></p>
</div>
<div id="value-of-perfect-information-1" class="section level2">
<h2 class="hasAnchor">
<a href="#value-of-perfect-information-1" class="anchor"></a>Value of perfect information</h2>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">cea_out</span><span class="op">$</span><span class="va">evpi</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">k</span>, y <span class="op">=</span> <span class="va">evpi</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span>  <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Willingness to pay"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Expected value of perfect information"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">wtp</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, 
                     label <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">format_dollar</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> </code></pre></div>
<p><img src="06-cea_files/figure-html/custom-evpi-plot-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Devin Incerti, Jeroen P. Jansen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
